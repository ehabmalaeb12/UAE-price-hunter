<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Compare Prices - UAE Price Hunter</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #2C3E50;
            --secondary: #3498DB;
            --accent: #E74C3C;
            --dark: #1A252F;
            --light: #ECF0F1;
            --success: #2ECC71;
            --warning: #F39C12;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Floating Language Button -->
    <button id="languageToggle" class="floating-btn" onclick="toggleLanguage()">
        <i class="fas fa-language"></i>
        <span>عربي</span>
    </button>

    <!-- Header -->
    <header class="glass-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-search-dollar"></i>
                    <h1>UAE PRICE HUNTER</h1>
                </div>
                <p class="tagline">Smart Shopping. Real Savings.</p>
            </div>
            
            <nav class="main-nav">
                <a href="index.html" class="nav-link active">
                    <i class="fas fa-balance-scale"></i>
                    <span>Compare Prices</span>
                </a>
                <a href="deals.html" class="nav-link">
                    <i class="fas fa-fire"></i>
                    <span>Top Deals</span>
                </a>
                <a href="basket.html" class="nav-link">
                    <i class="fas fa-shopping-basket"></i>
                    <span>Basket</span>
                    <span id="basketCount" class="nav-badge">0</span>
                </a>
                <a href="profile.html" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
                <a href="rewards.html" class="nav-link">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Hero Section -->
        <section class="hero-section">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">Find the <span class="gradient-text">Best Price</span> in UAE</h1>
                    <p class="hero-subtitle">Compare prices across 6+ UAE stores instantly. Real products. Real prices.</p>
                    <div class="hero-stats">
                        <div class="stat">
                            <i class="fas fa-store"></i>
                            <div>
                                <h3>6+ Stores</h3>
                                <p>Amazon, Noon, Carrefour & more</p>
                            </div>
                        </div>
                        <div class="stat">
                            <i class="fas fa-bolt"></i>
                            <div>
                                <h3>Real-time</h3>
                                <p>Live price updates</p>
                            </div>
                        </div>
                        <div class="stat">
                            <i class="fas fa-coins"></i>
                            <div>
                                <h3>Earn Points</h3>
                                <p>Get rewards for shopping</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="hero-illustration">
                    <i class="fas fa-search-dollar"></i>
                </div>
            </div>
        </section>

        <!-- Search Section -->
        <section class="search-section glass-card">
            <div class="search-header">
                <h2><i class="fas fa-search"></i> Search & Compare</h2>
                <p>Enter product name to compare prices across all stores</p>
            </div>
            
            <div class="smart-search">
                <div class="search-input-group">
                    <input type="text" 
                           id="searchInput" 
                           placeholder="What are you looking for? (iPhone 15, Samsung TV, Arabic perfume...)"
                           autocomplete="off">
                    <button class="search-btn" onclick="performSearch()">
                        <i class="fas fa-search"></i>
                        <span>Compare Now</span>
                    </button>
                </div>
                
                <div id="searchSuggestions" class="suggestions-box"></div>
                
                <!-- AI Suggestions -->
                <div class="ai-suggestions">
                    <h3><i class="fas fa-robot"></i> Popular in UAE:</h3>
                    <div class="suggestion-tags">
                        <span class="tag" onclick="searchProduct('iPhone 15 Pro Max')">
                            <i class="fas fa-mobile"></i> iPhone 15
                        </span>
                        <span class="tag" onclick="searchProduct('Samsung Galaxy S24')">
                            <i class="fas fa-mobile-alt"></i> Samsung S24
                        </span>
                        <span class="tag" onclick="searchProduct('Arabic Oud Perfume')">
                            <i class="fas fa-spray-can"></i> Arabic Perfume
                        </span>
                        <span class="tag" onclick="searchProduct('Gold Jewelry 22K')">
                            <i class="fas fa-gem"></i> Gold Jewelry
                        </span>
                        <span class="tag" onclick="searchProduct('PlayStation 5')">
                            <i class="fas fa-gamepad"></i> PlayStation 5
                        </span>
                        <span class="tag" onclick="searchProduct('Dyson Airwrap')">
                            <i class="fas fa-wind"></i> Dyson Airwrap
                        </span>
                    </div>
                </div>
                
                <!-- Store Selection -->
                <div class="store-selection">
                    <h3><i class="fas fa-filter"></i> Select Stores to Compare:</h3>
                    <div class="store-grid">
                        <label class="store-option selected" data-store="amazon">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/a/a9/Amazon_logo.svg" alt="Amazon">
                                <span>Amazon.ae</span>
                            </div>
                        </label>
                        <label class="store-option selected" data-store="noon">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Noon_%28company%29_logo.svg/2560px-Noon_%28company%29_logo.svg.png" alt="Noon">
                                <span>Noon</span>
                            </div>
                        </label>
                        <label class="store-option selected" data-store="carrefour">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/9e/Carrefour_logo.svg/2560px-Carrefour_logo.svg.png" alt="Carrefour">
                                <span>Carrefour</span>
                            </div>
                        </label>
                        <label class="store-option selected" data-store="sharafdg">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://www.sharafdg.com/static/version1712821587/frontend/Sdg/default/en_US/images/logo.svg" alt="Sharaf DG">
                                <span>Sharaf DG</span>
                            </div>
                        </label>
                        <label class="store-option selected" data-store="emax">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://www.emaxme.com/pub/static/version1704199543/frontend/Emax/default/en_US/images/logo.svg" alt="eMax">
                                <span>eMax</span>
                            </div>
                        </label>
                        <label class="store-option selected" data-store="lulu">
                            <input type="checkbox" checked>
                            <div class="store-card">
                                <img src="https://www.luluhypermarket.com/medias/Logo-Lulu-1-.png" alt="Lulu">
                                <span>Lulu</span>
                            </div>
                        </label>
                    </div>
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section class="results-section">
            <div class="results-header">
                <h2><i class="fas fa-chart-line"></i> Price Comparison Results</h2>
                <div class="results-info" id="resultsInfo">
                    <span id="resultsCount">Search for products to compare</span>
                </div>
            </div>

            <div id="loading" class="loading-state">
                <div class="spinner"></div>
                <p>Searching UAE stores for real-time prices...</p>
                <div class="loading-stores">
                    <span>Amazon.ae</span>
                    <span>Noon</span>
                    <span>Carrefour</span>
                    <span>Sharaf DG</span>
                    <span>eMax</span>
                    <span>Lulu</span>
                </div>
            </div>

            <div id="searchResults" class="comparison-grid">
                <!-- Products grouped by similarity will appear here -->
                <div class="empty-state">
                    <div class="empty-illustration">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h3>Start Comparing Prices</h3>
                    <p>Search for any product to see prices from all UAE stores</p>
                    <div class="empty-actions">
                        <button class="btn-primary" onclick="searchProduct('iPhone 15 Pro Max')">
                            <i class="fas fa-mobile"></i> Compare iPhone
                        </button>
                        <button class="btn-secondary" onclick="searchProduct('Samsung TV 65 inch')">
                            <i class="fas fa-tv"></i> Compare TV
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section">
            <h2 class="section-title">Why Compare With Us?</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-layer-group"></i>
                    </div>
                    <h3>Smart Grouping</h3>
                    <p>Similar products grouped together for easy comparison</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-crown"></i>
                    </div>
                    <h3>Best Price Highlighted</h3>
                    <p>Lowest price automatically marked in green</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-images"></i>
                    </div>
                    <h3>Real Product Images</h3>
                    <p>Actual images from store pages, not placeholders</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-bolt"></i>
                    </div>
                    <h3>Real-time Updates</h3>
                    <p>Prices updated live from store websites</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="glass-footer">
        <div class="footer-content">
            <div class="footer-section">
                <div class="footer-logo">
                    <i class="fas fa-search-dollar"></i>
                    <h3>UAE Price Hunter</h3>
                </div>
                <p class="footer-tagline">Smart shopping comparison for the UAE market</p>
                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-linkedin"></i></a>
                </div>
            </div>
            <div class="footer-section">
                <h4>Navigation</h4>
                <a href="index.html"><i class="fas fa-balance-scale"></i> Compare Prices</a>
                <a href="deals.html"><i class="fas fa-fire"></i> Top Deals</a>
                <a href="basket.html"><i class="fas fa-shopping-basket"></i> My Basket</a>
                <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
                <a href="rewards.html"><i class="fas fa-gift"></i> My Rewards</a>
            </div>
            <div class="footer-section">
                <h4>Legal</h4>
                <a href="privacy.html"><i class="fas fa-shield-alt"></i> Privacy Policy</a>
                <a href="terms.html"><i class="fas fa-file-contract"></i> Terms of Service</a>
                <a href="disclaimer.html"><i class="fas fa-exclamation-triangle"></i> Disclaimer</a>
                <a href="contact.html"><i class="fas fa-envelope"></i> Contact Us</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2024 UAE Price Hunter. All rights reserved. Prices in AED.</p>
            <p class="disclaimer">Prices are updated in real-time but may vary. Always check store for final pricing.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script src="firebase-config.js"></script>
    <script src="language.js"></script>
    <script src="scraper.js"></script>
    <script src="script.js"></script>

    <script>
        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadLanguagePreference();
        });

        // Search product function
        function searchProduct(query) {
            document.getElementById('searchInput').value = query;
            performSearch();
        }

        // Toggle language
        function toggleLanguage() {
            const currentLang = document.documentElement.lang;
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            setLanguage(newLang);
        }

        // Store selection
        document.querySelectorAll('.store-option').forEach(option => {
            option.addEventListener('click', function() {
                this.classList.toggle('selected');
                const checkbox = this.querySelector('input');
                checkbox.checked = !checkbox.checked;
            });
        });
    </script>
</body>
</html>
