<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Rewards - UAE Price Hunter</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Floating Language Button -->
    <button id="languageToggle" class="floating-btn" onclick="toggleLanguage()">
        <i class="fas fa-language"></i>
        <span>عربي</span>
    </button>

    <!-- Header -->
    <header class="glass-header">
        <div class="header-container">
            <div class="logo-section">
                <div class="logo">
                    <i class="fas fa-search-dollar"></i>
                    <h1>UAE PRICE HUNTER</h1>
                </div>
                <p class="tagline">Earn Points. Get Rewards.</p>
            </div>
            
            <nav class="main-nav">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-balance-scale"></i>
                    <span>Compare Prices</span>
                </a>
                <a href="deals.html" class="nav-link">
                    <i class="fas fa-fire"></i>
                    <span>Top Deals</span>
                </a>
                <a href="basket.html" class="nav-link">
                    <i class="fas fa-shopping-basket"></i>
                    <span>Basket</span>
                    <span id="basketCount" class="nav-badge">0</span>
                </a>
                <a href="profile.html" class="nav-link">
                    <i class="fas fa-user"></i>
                    <span>Profile</span>
                </a>
                <a href="rewards.html" class="nav-link active">
                    <i class="fas fa-gift"></i>
                    <span>Rewards</span>
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Rewards Hero -->
        <section class="rewards-hero">
            <div class="hero-content">
                <div class="points-display glass-card">
                    <div class="points-header">
                        <h2><i class="fas fa-coins"></i> Your Points Balance</h2>
                        <div class="points-value">
                            <span id="totalPoints">0</span>
                            <small>Points</small>
                        </div>
                    </div>
                    
                    <div class="points-conversion">
                        <div class="conversion-rate">
                            <i class="fas fa-exchange-alt"></i>
                            <div>
                                <h4>50 Points = 1 AED</h4>
                                <p>Redeem points for cash or vouchers</p>
                            </div>
                        </div>
                        <div class="cash-value">
                            <span id="cashValue">0 AED</span>
                            <small>Available for redemption</small>
                        </div>
                    </div>
                </div>
                
                <div class="points-breakdown glass-card">
                    <h3><i class="fas fa-list"></i> Points Breakdown</h3>
                    <div class="breakdown-grid">
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-check-circle"></i>
                                <span>Approved Points</span>
                            </div>
                            <div class="breakdown-value" id="approvedPoints">0</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-clock"></i>
                                <span>Pending Points</span>
                            </div>
                            <div class="breakdown-value" id="pendingPoints">0</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-hourglass-end"></i>
                                <span>Expiring Soon</span>
                            </div>
                            <div class="breakdown-value" id="expiringPoints">0</div>
                        </div>
                        <div class="breakdown-item">
                            <div class="breakdown-label">
                                <i class="fas fa-trophy"></i>
                                <span>Total Earned</span>
                            </div>
                            <div class="breakdown-value" id="totalEarned">0</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- How to Earn Points -->
        <section class="earn-section">
            <div class="section-header">
                <h2><i class="fas fa-bullseye"></i> How to Earn Points</h2>
                <p>Complete actions to accumulate more points</p>
            </div>
            
            <div class="earn-grid">
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-search"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Search Products</h3>
                        <p>Get 10 points for every product search</p>
                    </div>
                    <div class="earn-points">
                        +10 <small>points</small>
                    </div>
                </div>
                
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Add to Basket</h3>
                        <p>Earn 50 points for each item added</p>
                    </div>
                    <div class="earn-points">
                        +50 <small>points</small>
                    </div>
                </div>
                
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-store"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Visit Store</h3>
                        <p>100 points for visiting store via our link</p>
                    </div>
                    <div class="earn-points">
                        +100 <small>points</small>
                    </div>
                </div>
                
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-shopping-bag"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Complete Purchase</h3>
                        <p>500 points + 5 points per AED spent</p>
                    </div>
                    <div class="earn-points">
                        +500 <small>points</small>
                    </div>
                </div>
                
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-user-plus"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Refer Friends</h3>
                        <p>Get 1000 points for each successful referral</p>
                    </div>
                    <div class="earn-points">
                        +1000 <small>points</small>
                    </div>
                </div>
                
                <div class="earn-card glass-card">
                    <div class="earn-icon">
                        <i class="fas fa-calendar-check"></i>
                    </div>
                    <div class="earn-content">
                        <h3>Daily Login</h3>
                        <p>25 points for daily app login</p>
                    </div>
                    <div class="earn-points">
                        +25 <small>points</small>
                    </div>
                </div>
            </div>
        </section>

        <!-- Redeem Rewards -->
        <section class="redeem-section">
            <div class="section-header">
                <h2><i class="fas fa-gift"></i> Redeem Your Points</h2>
                <p>Exchange points for amazing rewards</p>
            </div>
            
            <div class="rewards-grid">
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        250 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-shopping-cart"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Carrefour Voucher</h3>
                        <p>5 AED shopping voucher</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(250, 'Carrefour Voucher')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
                
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        500 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-coffee"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Starbucks UAE</h3>
                        <p>10 AED coffee voucher</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(500, 'Starbucks Voucher')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
                
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        1000 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-mobile-alt"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Etisalat Recharge</h3>
                        <p>20 AED mobile credit</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(1000, 'Etisalat Recharge')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
                
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        2500 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-plane"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Emirates Miles</h3>
                        <p>50 Skywards miles</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(2500, 'Emirates Miles')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
                
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        5000 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-money-bill-wave"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Cash Back</h3>
                        <p>100 AED direct cash</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(5000, 'Cash Back')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
                
                <div class="reward-card glass-card">
                    <div class="reward-badge">
                        10000 <small>points</small>
                    </div>
                    <div class="reward-icon">
                        <i class="fas fa-gem"></i>
                    </div>
                    <div class="reward-content">
                        <h3>Gold Voucher</h3>
                        <p>200 AED jewelry voucher</p>
                    </div>
                    <button class="btn-primary" onclick="redeemReward(10000, 'Gold Voucher')">
                        <i class="fas fa-gift"></i> Redeem
                    </button>
                </div>
            </div>
        </section>

        <!-- Points History -->
        <section class="history-section">
            <div class="section-header">
                <h2><i class="fas fa-history"></i> Points History</h2>
                <button class="btn-outline" onclick="exportPointsHistory()">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
            
            <div class="history-list" id="pointsHistory">
                <!-- Points transactions will load here -->
                <div class="empty-history">
                    <i class="fas fa-coins"></i>
                    <p>No points activity yet. Start earning points!</p>
                </div>
            </div>
        </section>

        <!-- Referral Program -->
        <section class="referral-section glass-card">
            <div class="referral-content">
                <div class="referral-text">
                    <h3><i class="fas fa-user-plus"></i> Refer & Earn More</h3>
                    <p>Share your referral code and get 1000 points for each friend who joins</p>
                </div>
                <div class="referral-code">
                    <div class="code-display">
                        <span id="referralCode">UAEHUNTER2024</span>
                        <button class="btn-outline" onclick="copyReferralCode()">
                            <i class="fas fa-copy"></i> Copy
                        </button>
                    </div>
                    <div class="referral-stats">
                        <span>Friends Referred: <strong id="referralCount">0</strong></span>
                        <span>Points Earned: <strong id="referralPoints">0</strong></span>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="glass-footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Rewards Program</h4>
                <p>Points never expire</p>
                <p>Redeem anytime</p>
                <p>No minimum balance required</p>
            </div>
            <div class="footer-section">
                <h4>Quick Links</h4>
                <a href="rewards.html#redeem"><i class="fas fa-gift"></i> Redeem Points</a>
                <a href="rewards.html#earn"><i class="fas fa-bullseye"></i> How to Earn</a>
                <a href="rewards.html#history"><i class="fas fa-history"></i> Points History</a>
                <a href="profile.html"><i class="fas fa-user"></i> My Profile</a>
            </div>
            <div class="footer-section">
                <h4>Support</h4>
                <p>Questions about rewards?</p>
                <p>Email: rewards@uaepricehunter.com</p>
                <p>Response within 24 hours</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p>© 2024 UAE Price Hunter Rewards Program. All rewards subject to terms.</p>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    
    <script src="firebase-config.js"></script>
    <script src="language.js"></script>
    <script src="rewards-script.js"></script>

    <script>
        // Initialize rewards page
        document.addEventListener('DOMContentLoaded', function() {
            initializeRewardsPage();
            loadLanguagePreference();
        });

        // Toggle language
        function toggleLanguage() {
            const currentLang = document.documentElement.lang;
            const newLang = currentLang === 'en' ? 'ar' : 'en';
            setLanguage(newLang);
        }

        // Copy referral code
        function copyReferralCode() {
            const code = document.getElementById('referralCode').textContent;
            navigator.clipboard.writeText(code);
            alert('Referral code copied!');
        }
    </script>
</body>
</html>
